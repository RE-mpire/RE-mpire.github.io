// animatedSvg.js - Handles animated SVG elements on the page
const sequence=[{d:" M-2.75,7.675000190734863 C-7.607223987579346,8.936928749084473 -7.952252388000488,5.520028591156006 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-7.464276313781738,8.69857120513916 -8.15474796295166,5.865471363067627 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-7.321671485900879,8.460785865783691 -8.356757164001465,6.210085868835449 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-7.178894996643066,8.2227144241333 -8.559009552001953,6.555114269256592 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-7.035776138305664,7.984071254730225 -8.761747360229492,6.900971412658691 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-6.89300012588501,7.745999813079834 -8.96399974822998,7.245999813079834 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-6.625232219696045,7.299803733825684 -8.865914344787598,7.3978142738342285 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-6.357142925262451,6.853071212768555 -8.76771068572998,7.549810886383057 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-6.089696407318115,6.407410621643066 -8.669742584228516,7.701442718505859 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-5.82192850112915,5.961214065551758 -8.571657180786133,7.853257179260254 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-5.566697120666504,5.535908222198486 -8.478163719177246,7.9979634284973145 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-5.291536331176758,5.077391624450684 -8.37736988067627,8.153969764709473 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-5.017982006072998,4.621553421020508 -8.277164459228516,8.309063911437988 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-4.750050067901611,4.175083160400391 -8.178909301757812,8.460723876953125 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-4.875,4.383333206176758 -7.952666759490967,7.770500183105469 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-4.999949932098389,4.591583251953125 -7.726423740386963,7.080276012420654 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-5.124899864196777,4.799833297729492 -7.500181198120117,6.390052318572998 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-5.249849796295166,5.008083343505859 -7.273938179016113,5.699828624725342 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-5.374949932098389,5.216583251953125 -7.047423839569092,5.0087761878967285 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-5.499899864196777,5.424833297729492 -6.821181297302246,4.318552494049072 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-5.648654937744141,6.0136260986328125 -6.898406982421875,4.389247894287109 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-5.797606945037842,6.60343074798584 -6.975968837738037,4.460638046264648 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-5.946381092071533,7.19252872467041 -7.053438186645508,4.531942844390869 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-6.095154762268066,7.781626224517822 -7.13090705871582,4.60324764251709 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-6.244107246398926,8.371431350708008 -7.208468914031982,4.674638271331787 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-6.392880916595459,8.960528373718262 -7.285937786102295,4.745943069458008 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-6.619166851043701,8.99666690826416 -7.553833484649658,4.984166622161865 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-6.845242977142334,9.032319068908691 -7.821559429168701,5.222238063812256 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-7.071319103240967,9.067971229553223 -8.089285850524902,5.4603095054626465 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-7.2973952293396,9.103623390197754 -8.357011795043945,5.698380947113037 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-7.52374267578125,9.13931941986084 -8.625059127807617,5.936738014221191 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-7.749819278717041,9.174971580505371 -8.892786026000977,6.174809455871582 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-7.36899995803833,8.651166915893555 -8.809666633605957,6.496500015258789 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-6.988152503967285,8.127542495727539 -8.726366996765137,6.817871570587158 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-6.607304573059082,7.60391902923584 -8.64306640625,7.139242649078369 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-6.22599983215332,7.079666614532471 -8.559666633605957,7.460999965667725 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-5.845152378082275,6.556042671203613 -8.476366996765137,7.782371520996094 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-5.4643049240112305,6.032419204711914 -8.39306640625,8.103742599487305 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-5.34499979019165,5.722499847412109 -8.357333183288574,8.16349983215332 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-5.226190567016602,5.413495063781738 -8.321723937988281,8.222905158996582 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-5.10695219039917,5.103376388549805 -8.285985946655273,8.282524108886719 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-4.98799991607666,4.794000148773193 -8.250333786010742,8.342000007629395 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-4.86904764175415,4.484623908996582 -8.214680671691895,8.40147590637207 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-4.750095367431641,4.175247669219971 -8.179028511047363,8.460952758789062 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-4.821413993835449,4.293857097625732 -8.143209457397461,8.009042739868164 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-4.892885684967041,4.412809371948242 -8.107390403747559,7.5567240715026855 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-4.964442729949951,4.531904697418213 -8.071528434753418,7.1038618087768555 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-5.035999774932861,4.651000022888184 -8.035666465759277,6.651000022888184 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-5.107471466064453,4.769952297210693 -7.999847888946533,6.198680877685547 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-5.178942680358887,4.888904571533203 -7.964028835296631,5.746362209320068 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-5.435691833496094,5.317152500152588 -7.654871463775635,5.484480857849121 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-5.692897319793701,5.746161937713623 -7.345123767852783,5.222437858581543 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-5.949794292449951,6.174656867980957 -7.035747528076172,4.960709571838379 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-6.206999778747559,6.60366678237915 -6.72599983215332,4.698666572570801 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-6.463897228240967,7.032161712646484 -6.416623592376709,4.436938285827637 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-6.720794200897217,7.460657119750977 -6.107247829437256,4.1752095222473145 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-6.978250026702881,7.889500141143799 -6.517749786376953,4.425000190734863 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-7.235396862030029,8.317828178405762 -6.928335666656494,4.674900054931641 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-7.492544174194336,8.7461576461792 -7.338921546936035,4.924799919128418 -9.75,4.675000190734863"},{d:" M-2.75,7.675000190734863 C-7.749691486358643,9.17448616027832 -7.749506950378418,5.174699783325195 -9.75,4.675000190734863"}];

const path = document.getElementById('github-tail');
let animationId = null;
let playing = false;

function playSequence() {
  if (playing) return;
  playing = true;
  let frame = 0;

  function step() {
    if (!playing) return;
    path.setAttribute('d', sequence[frame].d);
    frame = (++frame) % sequence.length;
    animationId = requestAnimationFrame(step);
  }
  animationId = requestAnimationFrame(step);
}

function stopSequence() {
  playing = false;
  if (animationId) {
    cancelAnimationFrame(animationId);
    animationId = null;
  }
}

const btn = document.querySelector('.github');
btn.addEventListener('mouseenter', playSequence);
btn.addEventListener('mouseleave', () => {
  stopSequence();
  path.setAttribute('d', sequence[0].d);
});